(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{292:function(e,t,s){e.exports={content:"ProfileInfo_content__2me8y",avatar:"ProfileInfo_avatar__1mEvj",profileData:"ProfileInfo_profileData__Cwq9J",descriptionBlock:"ProfileInfo_descriptionBlock__2aNdV",contact:"ProfileInfo_contact__3UpAq",aboutMe:"ProfileInfo_aboutMe__1J8mS"}},293:function(e,t,s){e.exports={test:"Profile_test__2o6k7"}},294:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__2C356",posts:"MyPosts_posts__37A6O",content:"MyPosts_content__bKSb4",textarea:"MyPosts_textarea__2_h5o"}},295:function(e,t,s){e.exports={item:"Post_item__38ti7",message:"Post_message__1eWyN",likes:"Post_likes__poTXP"}},296:function(e,t,s){"use strict";s.r(t);var o=s(37),a=s(38),c=s(41),n=s(40),i=s(0),r=s.n(i),l=s(293),u=s.n(l),j=s(8),b=s.n(j),d=s(15),p=s(96),f=s(292),h=s.n(f),O=s(107),m=s(1),x=function(e){var t=Object(i.useState)(!1),s=Object(p.a)(t,2),o=s[0],a=s[1],c=Object(i.useState)(e.status),n=Object(p.a)(c,2),r=n[0],l=n[1];Object(i.useEffect)((function(){l(e.status)}),[e.status]);return Object(m.jsxs)("div",{className:h.a.profileData,children:[!o&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Status:"}),"  ",Object(m.jsxs)("span",{onDoubleClick:function(){a(!0)},children:[""===r?"noy status":r," "]})]}),o&&Object(m.jsx)("div",{children:Object(m.jsx)("input",{onBlur:function(){a(!1)},value:r,autoFocus:!0,onChange:function(e){l(e.currentTarget.value)}})})]})},v=s(49),P=s(129),A=s(130),g=s(46),_=s.n(g),k=Object(A.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit;return Object(m.jsxs)("form",{onSubmit:t,children:[Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:_.a.btn,children:"save"})}),Object(m.jsx)("b",{children:"Full name"}),": ",Object(m.jsx)(P.a,{placeholder:"fullName",name:"fullName",component:v.a}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job "}),": ",Object(m.jsx)(P.a,{placeholder:"lookingForAJob",name:"lookingForAJob",component:v.a,type:"checkbox"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills "}),": ",Object(m.jsx)(P.a,{placeholder:"lookingForAJobDescription",name:"lookingForAJobDescription",component:v.b})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me "}),": ",Object(m.jsx)(P.a,{placeholder:"aboutMe",name:"aboutMe",component:v.b})]})]})})),y=function(e){var t=e.contactTitle,s=e.contactValue;return Object(m.jsxs)("div",{className:h.a.contact,children:[Object(m.jsxs)("b",{children:[t,":"]}),s]})},N=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return Object(m.jsxs)("div",{className:h.a.profileData,children:[s&&Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:_.a.btn,onClick:o,children:"edit"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name :"})," ",t.fullName]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job :"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills :"})," ",t.lookingForAJobDescription]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me :"})," ",t.aboutMe]}),Object(m.jsx)("div",{children:t.contacts&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(m.jsx)(y,{contactTitle:e,contactValue:e},e)}))]})})]})},S=function(e){var t=e.profile,s=e.status,o=e.updateStatusProfile,a=e.updatePhoto,c=e.saveProfile,n=e.currentUser;Object(i.useEffect)((function(){n!=t.userId?j(!1):j(!0)}),[t]);var r=Object(i.useState)(!1),l=Object(p.a)(r,2),u=l[0],j=l[1],f=Object(i.useState)(!1),v=Object(p.a)(f,2),P=v[0],A=v[1],g=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:A(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{className:h.a.content,children:[Object(m.jsx)("div",{className:h.a.avatar,children:t.photos&&t.photos.large?Object(m.jsx)("img",{src:t.photos.large}):Object(m.jsx)("img",{src:O.a})}),P&&Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&a(e.target.files[0])}}),Object(m.jsxs)("div",{className:h.a.aboutMe,children:[P?Object(m.jsx)(k,{onSubmit:g,initialValues:t}):Object(m.jsx)(N,{profile:t,isOwner:u,goToEditMode:function(){A(!0)}}),Object(m.jsx)(x,{status:s,updateStatusProfile:o})]})]})},C=s(95),M=s(294),T=s.n(M),w=s(295),B=s.n(w),D=function(e){return Object(m.jsxs)("div",{className:B.a.item,children:[Object(m.jsxs)("div",{className:B.a.message,children:[Object(m.jsx)("img",{src:e.avatar}),e.message]}),Object(m.jsxs)("div",{className:B.a.likes,children:[Object(m.jsx)("span",{children:e.likesCount}),Object(m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABoElEQVQ4jc2PP0iUcRjHP9/fq296d54ViGOLSw0GxesZ/YG8a3BqDtqcGsogCGlrFhosx7bAVXAI1LsgMPEsCAWRKGhz0iF9T0/v3qchjLu891LOwe/0e57n93y+3wfOulRb2HDfudL+xXsmLpupJLmPqfnF1do/O9lMv8FtGZ2SrSf8rTm9/14+AvyVy9xyZu+AS3UmMB21eSOqVCV4K7j/T6ifURQ9TH/4vPAXuHN34CqOT0Ci4RmmBQCT3Yy5NETejdT84qoDwNl4HOwQ1AQGkMSq4wDayl3v9s3bBLwmC8dRdXev/YLzKn7PKcAAPL896nVpP9wADk4BuJ/2ww2n2ZVQpplWacJmNLsSOoADKs+B8n92mqarohcADuB84csPTGMtxBtL54vf/jxrFA4NTJh4fCKW8TpZKD45rF3tMFEojpp4eQLcROJO8Wl92AbazgWPZHoFdMSQyoaedeWXJo9YxHlvZzNXhE0B/XUD0zpe9CA1t/y10Z5r1AToyi+tJUveoMQbIAIiYZPJXXctDnZshdkgCLNB0BLkzOg3qs2IkfLpeQoAAAAASUVORK5CYII="})]})]})},J=s(51),U=Object(J.a)(10),L=Object(A.a)({form:"myPosts"})((function(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{children:Object(m.jsx)(P.a,{component:v.b,name:"newPostText",placeholder:"create post",className:T.a.textarea,validate:[J.b,U]})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:_.a.btn,children:"add post"})})]})})),F=r.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return Object(m.jsx)(D,{id:e.id,message:e.message,likesCount:e.likesCount,avatar:e.avatar},e.id)}));return Object(m.jsxs)("div",{className:T.a.postsBlock,children:[Object(m.jsx)("h3",{children:"My posts"}),Object(m.jsxs)("div",{className:T.a.content,children:[Object(m.jsx)(L,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(m.jsx)("div",{className:T.a.post,children:t})]})]})})),I=s(13),V=Object(I.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e(Object(C.a)(t))}}}))(F),q=function(e){return Object(m.jsxs)("div",{className:u.a.test,children:[Object(m.jsx)(S,{saveProfile:e.saveProfile,updatePhoto:e.updatePhoto,currentUser:e.currentUser,profile:e.profile,status:e.status,updateStatusProfile:e.updateStatusProfile}),Object(m.jsx)(V,{})]})},Q=s(10),E=s(11),R=function(e){Object(c.a)(s,e);var t=Object(n.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;this.props.getUserProfile(e),this.props.getStatusProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return this.props.isAuth?Object(m.jsx)(q,{profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,updatePhoto:this.props.updatePhotoProfile,saveProfile:this.props.saveProfileTC,currentUser:this.props.currentUser}):Object(m.jsx)(Q.a,{to:"/login"})}}]),s}(r.a.Component);t.default=Object(E.d)(Object(I.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUsedId:e.profilePage.profile.userId,isAuth:e.auth.isAuth,currentUser:e.auth.id}}),{getUserProfile:C.c,getStatusProfile:C.b,updateStatusProfile:C.g,updatePhotoProfile:C.f,saveProfileTC:C.e}),Q.g)(R)}}]);
//# sourceMappingURL=3.27a0ade0.chunk.js.map