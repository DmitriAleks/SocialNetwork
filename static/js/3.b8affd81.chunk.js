(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{290:function(e,t,s){e.exports={test:"Profile_test__2o6k7"}},291:function(e,t,s){e.exports={content:"ProfileInfo_content__2me8y",avatar:"ProfileInfo_avatar__1mEvj",descriptionBlock:"ProfileInfo_descriptionBlock__2aNdV",contact:"ProfileInfo_contact__3UpAq"}},292:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__2C356",posts:"MyPosts_posts__37A6O"}},293:function(e,t,s){e.exports={item:"Post_item__38ti7"}},294:function(e,t,s){"use strict";s.r(t);var o=s(36),n=s(37),c=s(40),i=s(39),r=s(0),a=s.n(r),l=s(290),j=s.n(l),u=s(8),b=s.n(u),d=s(14),p=s(95),f=s(291),h=s.n(f),O=s(44),x=s(106),m=s(1),v=function(e){var t=Object(r.useState)(!1),s=Object(p.a)(t,2),o=s[0],n=s[1],c=Object(r.useState)(e.status),i=Object(p.a)(c,2),a=i[0],l=i[1];Object(r.useEffect)((function(){l(e.status)}),[e.status]);return Object(m.jsxs)(m.Fragment,{children:[!o&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Status:"}),"  ",Object(m.jsxs)("span",{onDoubleClick:function(){n(!0)},children:[""===a?"noy status":a," "]})]}),o&&Object(m.jsx)("div",{children:Object(m.jsx)("input",{onBlur:function(){n(!1)},value:a,autoFocus:!0,onChange:function(e){l(e.currentTarget.value)}})})]})},P=s(48),g=s(128),k=s(129),_=Object(k.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit;return Object(m.jsxs)("form",{onSubmit:t,children:[Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"save"})}),Object(m.jsx)("b",{children:"Full name"}),": ",Object(m.jsx)(g.a,{placeholder:"fullName",name:"fullName",component:P.a}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job "}),": ",Object(m.jsx)(g.a,{placeholder:"lookingForAJob",name:"lookingForAJob",component:P.a,type:"checkbox"})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills "}),": ",Object(m.jsx)(g.a,{placeholder:"lookingForAJobDescription",name:"lookingForAJobDescription",component:P.b})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me "}),": ",Object(m.jsx)(g.a,{placeholder:"aboutMe",name:"aboutMe",component:P.b})]})]})})),y=function(e){var t=e.contactTitle,s=e.contactValue;return Object(m.jsxs)("div",{className:h.a.contact,children:[Object(m.jsx)("b",{children:t}),":",s]})},S=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return Object(m.jsxs)("div",{children:[s&&Object(m.jsx)("div",{children:Object(m.jsx)("button",{onClick:o,children:"edit"})}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Full name "}),": ",t.fullName]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Looking for a job "}),": ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"My professional skills "}),": ",t.lookingForAJobDescription]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"About me "}),": ",t.aboutMe]}),Object(m.jsx)("div",{children:t.contacts&&Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Contacts"}),": ",Object.keys(t.contacts).map((function(e){return Object(m.jsx)(y,{contactTitle:e,contactValue:e},e)}))]})})]})},A=function(e){var t=e.profile,s=e.status,o=e.updateStatusProfile,n=e.isOwner,c=e.updatePhoto,i=e.saveProfile,a=Object(r.useState)(!1),l=Object(p.a)(a,2),j=l[0],u=l[1],f=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(t.contacts),t?Object(m.jsxs)("div",{className:h.a.content,children:[Object(m.jsx)("div",{className:h.a.avatar,children:t.photos&&t.photos.large?Object(m.jsx)("img",{src:t.photos.large}):Object(m.jsx)("img",{src:x.a})}),Object(m.jsxs)("div",{className:h.a.descriptionBlock,children:[n&&Object(m.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])}}),j?Object(m.jsx)(_,{onSubmit:f,initialValues:t}):Object(m.jsx)(S,{profile:t,isOwner:n,goToEditMode:function(){u(!0)}})]}),Object(m.jsx)("div",{children:t.fullName}),Object(m.jsx)(v,{status:s,updateStatusProfile:o})]}):Object(m.jsx)(O.a,{})},N=s(94),w=s(292),C=s.n(w),F=s(293),M=s.n(F),I=function(e){return Object(m.jsxs)("div",{className:M.a.item,children:[Object(m.jsx)("img",{src:e.avatar}),e.message,Object(m.jsx)("div",{children:Object(m.jsxs)("span",{children:["like  ",e.likesCount]})})]})},J=s(50),T=Object(J.a)(10),B=Object(k.a)({form:"myPosts"})((function(e){return Object(m.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(m.jsx)("div",{children:Object(m.jsx)(g.a,{component:P.b,name:"newPostText",placeholder:"add post",validate:[J.b,T]})}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{children:"add post"})})]})})),D=a.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return Object(m.jsx)(I,{id:e.id,message:e.message,likesCount:e.likesCount,avatar:e.avatar},e.id)}));return Object(m.jsxs)("div",{className:C.a.postsBlock,children:[Object(m.jsx)("h3",{children:"My posts"}),Object(m.jsx)(B,{onSubmit:function(t){console.log(t),e.addPost(t.newPostText)}}),Object(m.jsx)("div",{className:C.a.post,children:t})]})})),U=s(16),E=Object(U.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e(Object(N.a)(t))}}}))(D),V=function(e){return Object(m.jsxs)("div",{className:j.a.test,children:[Object(m.jsx)(A,{isOwner:e.isOwner,saveProfile:e.saveProfile,updatePhoto:e.updatePhoto,profile:e.profile,status:e.status,updateStatusProfile:e.updateStatusProfile}),Object(m.jsx)(E,{})]})},L=s(10),q=s(11),z=function(e){Object(c.a)(s,e);var t=Object(i.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;this.props.getUserProfile(e),this.props.getStatusProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(m.jsx)(V,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,updatePhoto:this.props.updatePhotoProfile,saveProfile:this.props.saveProfileTC})}}]),s}(a.a.Component);t.default=Object(q.d)(Object(U.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUsedId:e.profilePage.profile.userId,isAuth:e.auth.isAuth}}),{getUserProfile:N.c,getStatusProfile:N.b,updateStatusProfile:N.g,updatePhotoProfile:N.f,saveProfileTC:N.e}),L.g)(z)}}]);
//# sourceMappingURL=3.b8affd81.chunk.js.map