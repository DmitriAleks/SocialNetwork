(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{291:function(e,t,s){e.exports={content:"ProfileInfo_content__2me8y",avatar:"ProfileInfo_avatar__1mEvj",profileData:"ProfileInfo_profileData__Cwq9J",descriptionBlock:"ProfileInfo_descriptionBlock__2aNdV",contact:"ProfileInfo_contact__3UpAq",aboutMe:"ProfileInfo_aboutMe__1J8mS"}},292:function(e,t,s){e.exports={test:"Profile_test__2o6k7"}},293:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__2C356",posts:"MyPosts_posts__37A6O",content:"MyPosts_content__bKSb4",textarea:"MyPosts_textarea__2_h5o"}},294:function(e,t,s){e.exports={item:"Post_item__38ti7",message:"Post_message__1eWyN",likes:"Post_likes__poTXP"}},295:function(e,t,s){"use strict";s.r(t);var o=s(37),a=s(38),c=s(41),n=s(40),i=s(0),r=s.n(i),l=s(292),j=s.n(l),u=s(8),b=s.n(u),d=s(14),p=s(96),f=s(291),O=s.n(f),h=s(45),m=s(107),x=s(1),v=function(e){var t=Object(i.useState)(!1),s=Object(p.a)(t,2),o=s[0],a=s[1],c=Object(i.useState)(e.status),n=Object(p.a)(c,2),r=n[0],l=n[1];Object(i.useEffect)((function(){l(e.status)}),[e.status]);return Object(x.jsxs)("div",{className:O.a.profileData,children:[!o&&Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Status:"}),"  ",Object(x.jsxs)("span",{onDoubleClick:function(){a(!0)},children:[""===r?"noy status":r," "]})]}),o&&Object(x.jsx)("div",{children:Object(x.jsx)("input",{onBlur:function(){a(!1)},value:r,autoFocus:!0,onChange:function(e){l(e.currentTarget.value)}})})]})},P=s(49),A=s(129),g=s(130),_=Object(g.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit;return Object(x.jsxs)("form",{onSubmit:t,children:[Object(x.jsx)("div",{children:Object(x.jsx)("button",{children:"save"})}),Object(x.jsx)("b",{children:"Full name"}),": ",Object(x.jsx)(A.a,{placeholder:"fullName",name:"fullName",component:P.a}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Looking for a job "}),": ",Object(x.jsx)(A.a,{placeholder:"lookingForAJob",name:"lookingForAJob",component:P.a,type:"checkbox"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"My professional skills "}),": ",Object(x.jsx)(A.a,{placeholder:"lookingForAJobDescription",name:"lookingForAJobDescription",component:P.b})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"About me "}),": ",Object(x.jsx)(A.a,{placeholder:"aboutMe",name:"aboutMe",component:P.b})]})]})})),k=function(e){var t=e.contactTitle,s=e.contactValue;return Object(x.jsxs)("div",{className:O.a.contact,children:[Object(x.jsxs)("b",{children:[t,":"]}),s]})},y=function(e){var t=e.profile,s=e.isOwner,o=e.goToEditMode;return Object(x.jsxs)("div",{className:O.a.profileData,children:[s&&Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:o,children:"edit"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Full name :"})," ",t.fullName]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Looking for a job :"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"My professional skills :"})," ",t.lookingForAJobDescription]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"About me :"})," ",t.aboutMe]}),Object(x.jsx)("div",{children:t.contacts&&Object(x.jsxs)("div",{children:[Object(x.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(x.jsx)(k,{contactTitle:e,contactValue:e},e)}))]})})]})},S=function(e){var t=e.profile,s=e.status,o=e.updateStatusProfile,a=e.isOwner,c=e.updatePhoto,n=e.saveProfile,r=Object(i.useState)(!1),l=Object(p.a)(r,2),j=l[0],u=l[1],f=function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return console.log(t.contacts),t?Object(x.jsxs)("div",{className:O.a.content,children:[Object(x.jsx)("div",{className:O.a.avatar,children:t.photos&&t.photos.large?Object(x.jsx)("img",{src:t.photos.large}):Object(x.jsx)("img",{src:m.a})}),a&&Object(x.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&c(e.target.files[0])}}),Object(x.jsxs)("div",{className:O.a.aboutMe,children:[j?Object(x.jsx)(_,{onSubmit:f,initialValues:t}):Object(x.jsx)(y,{profile:t,isOwner:a,goToEditMode:function(){u(!0)}}),Object(x.jsx)(v,{status:s,updateStatusProfile:o})]})]}):Object(x.jsx)(h.a,{})},N=s(95),C=s(293),w=s.n(C),M=s(294),T=s.n(M),B=function(e){return Object(x.jsxs)("div",{className:T.a.item,children:[Object(x.jsxs)("div",{className:T.a.message,children:[Object(x.jsx)("img",{src:e.avatar}),e.message]}),Object(x.jsxs)("div",{className:T.a.likes,children:[Object(x.jsx)("span",{children:e.likesCount}),Object(x.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABoElEQVQ4jc2PP0iUcRjHP9/fq296d54ViGOLSw0GxesZ/YG8a3BqDtqcGsogCGlrFhosx7bAVXAI1LsgMPEsCAWRKGhz0iF9T0/v3qchjLu891LOwe/0e57n93y+3wfOulRb2HDfudL+xXsmLpupJLmPqfnF1do/O9lMv8FtGZ2SrSf8rTm9/14+AvyVy9xyZu+AS3UmMB21eSOqVCV4K7j/T6ifURQ9TH/4vPAXuHN34CqOT0Ci4RmmBQCT3Yy5NETejdT84qoDwNl4HOwQ1AQGkMSq4wDayl3v9s3bBLwmC8dRdXev/YLzKn7PKcAAPL896nVpP9wADk4BuJ/2ww2n2ZVQpplWacJmNLsSOoADKs+B8n92mqarohcADuB84csPTGMtxBtL54vf/jxrFA4NTJh4fCKW8TpZKD45rF3tMFEojpp4eQLcROJO8Wl92AbazgWPZHoFdMSQyoaedeWXJo9YxHlvZzNXhE0B/XUD0zpe9CA1t/y10Z5r1AToyi+tJUveoMQbIAIiYZPJXXctDnZshdkgCLNB0BLkzOg3qs2IkfLpeQoAAAAASUVORK5CYII="})]})]})},D=s(51),J=s(89),L=s.n(J),F=Object(D.a)(10),I=Object(g.a)({form:"myPosts"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsx)(A.a,{component:P.b,name:"newPostText",placeholder:"create post",className:w.a.textarea,validate:[D.b,F]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:L.a.btn,children:"add post"})})]})})),U=r.a.memo((function(e){var t=e.profilePage.posts.map((function(e){return Object(x.jsx)(B,{id:e.id,message:e.message,likesCount:e.likesCount,avatar:e.avatar},e.id)}));return Object(x.jsxs)("div",{className:w.a.postsBlock,children:[Object(x.jsx)("h3",{children:"My posts"}),Object(x.jsxs)("div",{className:w.a.content,children:[Object(x.jsx)(I,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(x.jsx)("div",{className:w.a.post,children:t})]})]})})),V=s(16),q=Object(V.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(t){e(Object(N.a)(t))}}}))(U),Q=function(e){return Object(x.jsxs)("div",{className:j.a.test,children:[Object(x.jsx)(S,{isOwner:e.isOwner,saveProfile:e.saveProfile,updatePhoto:e.updatePhoto,profile:e.profile,status:e.status,updateStatusProfile:e.updateStatusProfile}),Object(x.jsx)(q,{})]})},E=s(10),R=s(11),G=function(e){Object(c.a)(s,e);var t=Object(n.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(a.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;this.props.getUserProfile(e),this.props.getStatusProfile(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!=e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(x.jsx)(Q,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusProfile:this.props.updateStatusProfile,updatePhoto:this.props.updatePhotoProfile,saveProfile:this.props.saveProfileTC})}}]),s}(r.a.Component);t.default=Object(R.d)(Object(V.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUsedId:e.profilePage.profile.userId,isAuth:e.auth.isAuth}}),{getUserProfile:N.c,getStatusProfile:N.b,updateStatusProfile:N.g,updatePhotoProfile:N.f,saveProfileTC:N.e}),E.g)(G)}}]);
//# sourceMappingURL=3.13bc36fe.chunk.js.map