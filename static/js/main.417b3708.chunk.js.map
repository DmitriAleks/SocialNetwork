{"version":3,"sources":["assets/images/user.png","api/api.ts","redux/dialogs-reducer.tsx","Components/Navbar/Navbar.module.css","Components/Navbar/Navbar.tsx","Components/News/News.tsx","Components/Music/Music.tsx","Components/Settings/Settings.tsx","utils/object-helpers/object-helpers.ts","redux/users-reducer.tsx","Components/common/Paginator/Paginator.tsx","Components/Users/User/User.tsx","Components/Users/Users.tsx","redux/users-selecotrs.ts","Components/Users/UsersContainer.tsx","Components/Header/Header.tsx","redux/auth-reducer.tsx","Components/Header/HeaderContainer.tsx","Components/Login/Login.tsx","redux/app-reducer.tsx","redux/redux-store.tsx","App.tsx","index.tsx","Components/Users/Users.module.css","assets/images/loading-.gif","Components/common/Preloader/Preloader.tsx","Components/common/FormControls/FormsControls.tsx","assets/styles/ButtonStyle.module.css","utils/validators/validators.ts","Components/common/FormControls/FormsControls.module.css","Components/Header/Header.module.css","Components/common/Paginator/Paginator.module.css","Components/Login/Login.module.css","redux/profile-reducer.tsx"],"names":["instance","axios","create","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowUsers","id","delete","followUsers","post","getProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","updatePhoto","photo","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","dialogs","name","messages","message","dialogsReducer","state","action","type","body","newMessageBody","sendMessageCreator","module","exports","Navbar","className","s","nav","item","to","activeClassName","active","News","Music","Settings","updatesObjectInArray","items","itemId","newObjProps","map","u","initialStateUsers","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","setToggleIsFetching","getFetching","setToggleFollowingProgress","isFollow","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","Paginator","totalItemCount","onPageChanged","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","style","section","onClick","filter","p","selectedPage","pageNumber","User","user","unfollow","follow","src","photos","small","userPhoto","followed","btn","disabled","some","local","Users","props","content","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","getUsersThunkCreator","this","Preloader","React","Component","connect","bind","page","totalCount","Header","header","contentHeader","title","menuLogin","isAuth","initialStateUser","setAuthUserData","payload","getCaptchaUrlSuccess","captchaUrl","getAuthUserData","getCaptchaURLTC","url","HeaderContainer","auth","maxLength25","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","useSelector","onSubmit","formBlock","Field","placeholder","component","Input","validate","required","formSummaryError","button","length","stopSubmit","_error","reducer","combineReducers","profilePage","profileReducer","dialogPage","app","initialized","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","DialogsContainer","lazy","ProfileContainer","App","catchAllUnhandledErrors","promiseRejectionEvent","alert","initializedApp","addEventListener","removeEventListener","exact","path","render","Suspense","fallback","AppContainer","promise","Promise","all","SamuraiJSApp","ReactDOM","StrictMode","document","getElementById","loader","backgroundColor","FormControl","input","meta","touched","children","hasError","styles","formControl","Textarea","restProps","value","maxLength","posts","likesCount","avatar","newPostText","newPost","Date","getTime","postId","addPostActionCreator","setStatusProfileActionCreator","getUserProfile","getStatusProfile","updateStatusProfile","updatePhotoProfile","file","saveProfileTC","getState"],"mappings":"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","file":"static/js/main.417b3708.chunk.js","sourcesContent":["export default \"data:image/png;base64,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\"","import axios from \"axios\";\r\nimport {ProfileDataFormType} from \"../Components/Profile/ProfileInfo/ProfileDataForm\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        'API-KEY': 'f98497de-3aa4-4fb0-ba69-3087854eec9e'\r\n    }\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    unfollowUsers(id: number) {\r\n        return instance.delete(`follow/${id}`)\r\n    },\r\n    followUsers(id: number) {\r\n        return instance.post(`follow/${id}`)\r\n    },\r\n    getProfile(userId: string) {\r\n        console.warn('Obsolete method. Please profileAPI object.')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId: string) {\r\n        return instance.get(`profile/` + userId);\r\n    },\r\n    getStatus(userId: string) {\r\n        return instance.get(`profile/status/` + userId);\r\n    },\r\n    updateStatus(status: any) {\r\n        return instance.put(`profile/status`, {status});\r\n    },\r\n    updatePhoto(photo: any) {\r\n        const formData = new FormData();\r\n        formData.append('image', photo)\r\n        return instance.put<GeneralType<SavePhotoResponseDataType>>(`profile/photo`, formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    },\r\n    saveProfile(profile: ProfileDataFormType) {\r\n        return instance.put<GeneralType<SavePhotoResponseDataType>>(`profile`, profile);\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`,)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false,captcha?: string) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe,captcha})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n}\r\nexport const securityAPI = {\r\n    getCaptchaUrl() {\r\n        return instance.get(`security/get-captcha-url`,)\r\n    },\r\n}\r\n\r\ntype GeneralType<D = {}> = {\r\n    data: D\r\n    messages: Array<string>\r\n    fieldsErrors?: Array<string>\r\n    resultCode: number\r\n}\r\ntype SavePhotoResponseDataType = {\r\n    photos: PhotosProfileType\r\n}\r\n\r\nexport type PhotosProfileType = {\r\n    small: string\r\n    large: string\r\n}\r\n","export type SendMessageType = ReturnType<typeof sendMessageCreator>\r\nexport type MessageType = {\r\n    id: number\r\n    message: string\r\n}\r\nexport type DialogType = {\r\n    id: number\r\n    name: string\r\n}\r\nexport type AllDialogsActionsType = SendMessageType\r\n\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: \"Dmitri\"},\r\n        {id: 2, name: \"Viktoria\"},\r\n        {id: 3, name: \"Igor\"},\r\n        {id: 4, name: \"Viktor\"},\r\n        {id: 5, name: \"Andrey\"},\r\n        {id: 6, name: \"Tanya\"}\r\n    ]as Array<DialogType>,\r\n        messages: [\r\n        {id: 1, message: \"Hi\"},\r\n        {id: 2, message: \"How is your it-kamasutra\"},\r\n        {id: 3, message: \"Yo\"},\r\n        {id: 4, message: \"Yo\"},\r\n        {id: 5, message: \"Yo\"},\r\n    ]as Array<MessageType>,\r\n}\r\nexport type InitialStateType = typeof initialState\r\n\r\n\r\n export const dialogsReducer=(state:InitialStateType = initialState, action:AllDialogsActionsType):InitialStateType => {\r\n\r\n     switch (action.type) {\r\n         case 'DIALOG/SEND-MESSAGE':\r\n             let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages :[...state.messages, {id: 6, message: body} ]\r\n            };\r\n        default:\r\n            return state\r\n    }\r\n}\r\nexport const sendMessageCreator = (newMessageBody:string) => {\r\n    return {\r\n        type: 'DIALOG/SEND-MESSAGE',\r\n        newMessageBody,\r\n    } as const\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3iuS9\",\"item\":\"Navbar_item__2-FaR\",\"active\":\"Navbar_active__519Eu\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './Navbar.module.css';\r\n\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to='/profile' activeClassName={s.active}> Profile</NavLink>\r\n            </div>\r\n            <div className={`${s.item} ${s.active}`}>\r\n                <NavLink to='/dialogs' activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/news' activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/music' activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/settings' activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to='/users' activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport s from 'News.module.css'\r\n\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default News","import React from \"react\";\r\nimport s from 'Music.module.css'\r\n\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport s from 'Settings.module.css'\r\n\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default Settings;","import { UsersType} from \"../../redux/users-reducer\";\r\n\r\nexport const  updatesObjectInArray = (items:Array<UsersType>, itemId: number,  newObjProps:{followed: boolean}):Array<UsersType> => {\r\n   return items.map(u => {\r\n        if (u['id'] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u;\r\n    })\r\n}","import {ThunkDispatch} from \"redux-thunk\";\r\nimport {usersAPI} from \"../api/api\";\r\nimport { updatesObjectInArray } from \"../utils/object-helpers/object-helpers\";\r\nimport {AppActionsType} from \"./redux-store\";\r\n\r\nexport type UsersActionsType =\r\n   | followType\r\n    | unfollowTypeAT\r\n    | setUsersTypeAT\r\n    | setCurrentPageAT\r\n    | setTotalUserCountAT\r\n    | setToggleIsFetchingAT\r\n    | setToggleFollowingProgressAT;\r\nexport type followType = ReturnType<typeof followSuccess>;\r\nexport type unfollowTypeAT = ReturnType<typeof unfollowSuccess>;\r\nexport type setUsersTypeAT = ReturnType<typeof setUsers>;\r\nexport type setCurrentPageAT = ReturnType<typeof setCurrentPage>;\r\nexport type setTotalUserCountAT = ReturnType<typeof setTotalUserCount>;\r\nexport type setToggleIsFetchingAT = ReturnType<typeof setToggleIsFetching>;\r\nexport type setToggleFollowingProgressAT = ReturnType<typeof setToggleFollowingProgress>;\r\n\r\n\r\nexport type UsersType = {\r\n    name: string,\r\n    id: number,\r\n    uniqueUrlName: null,\r\n    photos: {\r\n        small: string,\r\n        large: string,\r\n    },\r\n    status: null,\r\n    followed: boolean,\r\n}\r\n\r\n\r\nexport type followingInProgressType = {\r\n    id: number\r\n}\r\n\r\nlet initialStateUsers: InitialStateUsersType = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n}\r\nexport type InitialStateUsersType = {\r\n    users: Array<UsersType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingInProgress: Array<number>\r\n}\r\n\r\n\r\nexport const usersReducer = (state: InitialStateUsersType = initialStateUsers, action: AppActionsType): InitialStateUsersType => {\r\n    switch (action.type) {\r\n        case 'USERS/FOLLOW':\r\n            return {\r\n                ...state,\r\n               users: updatesObjectInArray(state.users,action.userId,  {followed: true} )\r\n            }\r\n        case 'USERS/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: updatesObjectInArray(state.users,action.userId,  {followed: false} )\r\n            }\r\n        case 'USERS/SET-USERS':\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case 'USERS/SET_CURRENT_PAGE':\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        case 'USERS/SET-TOTAL-USERS-COUNT':\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalCount\r\n            }\r\n        case 'USERS/TOGGLE-IS-FETCHING':\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        case 'USERS/TOGGLE_IS_FOLLOWING_PROGRESS':\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFollow\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : [...state.followingInProgress].filter(id => id != action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\nexport const followSuccess = (userId: number) => {\r\n    return {\r\n        type: 'USERS/FOLLOW',\r\n        userId: userId\r\n    } as const\r\n}\r\nexport const unfollowSuccess = (userId: number) => {\r\n    return {\r\n        type: 'USERS/UNFOLLOW',\r\n        userId: userId\r\n    } as const\r\n}\r\nexport const setUsers = (users: Array<UsersType>) => {\r\n    return {\r\n        type: 'USERS/SET-USERS',\r\n        users: users\r\n    } as const\r\n}\r\nexport const setCurrentPage = (currentPage: number) => {\r\n    return {\r\n        type: 'USERS/SET_CURRENT_PAGE',\r\n        currentPage: currentPage\r\n    } as const\r\n}\r\nexport const setTotalUserCount = (totalCount: number) => {\r\n    return {\r\n        type: 'USERS/SET-TOTAL-USERS-COUNT',\r\n        totalCount: totalCount\r\n    } as const\r\n}\r\nexport const setToggleIsFetching = (getFetching: boolean) => {\r\n    return {\r\n        type: 'USERS/TOGGLE-IS-FETCHING',\r\n        isFetching: getFetching\r\n    } as const\r\n}\r\nexport const setToggleFollowingProgress = (isFollow: boolean, userId: number) => {\r\n    return {\r\n        type: 'USERS/TOGGLE_IS_FOLLOWING_PROGRESS',\r\n        isFollow: isFollow,\r\n        userId: userId\r\n    } as const\r\n}\r\n//THUNK\r\nexport const getUsersThunkCreator = (page: number, pageSize: number) => {\r\n    return async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n        dispatch(setToggleIsFetching(true));\r\n        dispatch(setCurrentPage(page))\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(setToggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUserCount(data.totalCount))\r\n    }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch : ThunkDispatch<{}, {}, AppActionsType>,userId: number, apiMethod:  any , actionCreator :  any ) => {\r\n    dispatch(setToggleFollowingProgress(true, userId))\r\n    let response = await apiMethod(userId)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(setToggleFollowingProgress(false, userId))\r\n\r\n}\r\n\r\nexport const follow = (userId: number) => {\r\n    return async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n        followUnfollowFlow(dispatch,userId,usersAPI.followUsers.bind(usersAPI),followSuccess)\r\n    }\r\n}\r\nexport const unfollow = (userId: number) => {\r\n    return async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n        followUnfollowFlow(dispatch,userId,usersAPI.unfollowUsers.bind(usersAPI),unfollowSuccess)\r\n    }\r\n}\r\n","import React, {useState} from 'react';\r\nimport style from './Paginator.module.css';\r\n\r\ntype PaginatorPropsType = {\r\n    totalItemCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    onPageChanged: (pageNumber: number) => void,\r\n}\r\n\r\nlet Paginator: React.FC<PaginatorPropsType> = ({totalItemCount, pageSize, currentPage, onPageChanged}) => {\r\n    let pagesCount = Math.ceil(totalItemCount / pageSize)\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n    let portionSize = 10\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n    return <div className={style.section}>\r\n        {portionNumber > 1 && <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}> {'<<'} </button>}\r\n        {\r\n            pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map(p => {\r\n                    return <span className={currentPage === p ? style.selectedPage : style.pageNumber}\r\n                                 key={p}\r\n                                 onClick={() => onPageChanged(p)}>\r\n                       {p}\r\n                   </span>\r\n                })}\r\n        {portionCount > portionNumber && <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}> {'>>'} </button>}\r\n    </div>\r\n};\r\nexport default Paginator;","import React from 'react';\r\nimport s from '../Users.module.css';\r\nimport userPhoto from '../../../assets/images/user.png';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UsersType} from \"../../../redux/users-reducer\";\r\nimport style from './../../../assets/styles/ButtonStyle.module.css'\r\n\r\ntype UserPresentType = {\r\n    followingInProgress: Array<number>,\r\n    user: UsersType,\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void,\r\n}\r\n\r\nlet User: React.FC<UserPresentType> = ({user, followingInProgress, unfollow, follow}) => {\r\n    return <div className={s.user}>\r\n                    <span>\r\n                        <div>\r\n                            <NavLink to={'/profile/' + user.id}>\r\n                            <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                                 className={s.userPhoto}/>\r\n                        </NavLink>\r\n                        </div>\r\n                        <div>\r\n                            {user.followed\r\n                                ? <button className={style.btn}\r\n                                          disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              unfollow(user.id)\r\n                                          }}>Unfollow\r\n                                </button>\r\n                                : <button className={style.btn}\r\n                                          disabled={followingInProgress.some(id => id === user.id)}\r\n                                          onClick={() => {\r\n                                              follow(user.id)\r\n                                          }}>Follow\r\n                                </button>}\r\n                        </div>\r\n                    </span>\r\n        <span className={s.local}>\r\n                      <span><div>{user.name}</div><div>{user.status}</div></span>\r\n                      <span >\r\n                          <div>{\"u.location.city\"}</div>\r\n                          <div>{\"u.location.country\"}</div>\r\n                      </span>\r\n                    </span>\r\n\r\n    </div>\r\n}\r\nexport default User","import React from 'react';\r\nimport {UsersType} from \"../../redux/users-reducer\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from './User/User';\r\nimport style from './Users.module.css'\r\n\r\ntype UsersPresentType = {\r\n    totalUsersCount: number,\r\n    pageSize: number,\r\n    currentPage: number,\r\n    followingInProgress: Array<number>,\r\n    users: Array<UsersType>,\r\n    follow: (userId: number) => void,\r\n    unfollow: (userId: number) => void,\r\n    onPageChanged: (pageNumber: number) => void,\r\n}\r\n\r\nlet Users: React.FC<UsersPresentType> = ({currentPage, totalUsersCount, pageSize, onPageChanged, ...props}) => {\r\n    return <div className={style.content}>\r\n        <div className={style.users}>\r\n            {\r\n                props.users.map(u => <User key={u.id} user={u} followingInProgress={props.followingInProgress}\r\n                                           follow={props.follow}\r\n                                           unfollow={props.unfollow}/>)\r\n            }\r\n        </div>\r\n        <div>\r\n            <Paginator currentPage={currentPage} onPageChanged={onPageChanged} pageSize={pageSize}\r\n                       totalItemCount={totalUsersCount}/>\r\n        </div>\r\n    </div>\r\n}\r\nexport default Users","import { createSelector } from \"reselect\";\r\nimport {AppStateType} from \"./redux-store\";\r\n\r\n\r\nexport const getUsersTwo = (state: AppStateType) => {//примитивный селектор\r\n    return state.usersPage.users;\r\n}\r\nexport const getUsersSuperSelectorTwo = createSelector(getUsersTwo, (users)=>{// сложный селектор, использует\r\n    //примитивный getUsersTwo для получения необходимых данных (users), при изменение значения в users функцию возврщает нам\r\n    // новое значение\r\n return   users.filter(u=> true);\r\n})\r\n// export const getUsersSuperSelectorTwo = createSelector(getUsersTwo,getIsFetching, (users,isFetching)=>{\r\n// При наличии более одной зависимости, остальные добавляются через запятую (простые селекторы и значение)\r\n//     return   users.filter(u=> true);\r\n// })\r\n\r\nexport const getUsers = (state: AppStateType) => {\r\n    return state.usersPage;\r\n}\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    InitialStateUsersType,\r\n    setCurrentPage,\r\n    setToggleFollowingProgress,\r\n    getUsersThunkCreator,\r\n    follow, unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport {AppStateType} from '../../redux/redux-store';\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from '../../redux/users-selecotrs';\r\n\r\nclass UsersContainer extends React.Component<UsersPropsType> {\r\n    componentDidMount() {\r\n        const {currentPage,pageSize} = this.props.usersPage\r\n        this.props.getUsersThunkCreator(currentPage, pageSize);\r\n    }\r\n\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        const {pageSize} = this.props.usersPage\r\n        this.props.getUsersThunkCreator(pageNumber,pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.usersPage.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.usersPage.totalUsersCount}\r\n                   pageSize={this.props.usersPage.pageSize}\r\n                   currentPage={this.props.usersPage.currentPage}\r\n                   users={this.props.usersPage.users}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   onPageChanged={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    usersPage: InitialStateUsersType\r\n    //usersPage: (state :AppStateType)=> {}\r\n}\r\ntype MapDispatchToPropsType = {\r\n    follow: (userId: number) => void\r\n    unfollow: (userId: number) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    followingInProgress: Array<number>\r\n    getUsersThunkCreator: (currentPage: number, pageSize: number) => void\r\n}\r\nexport type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        usersPage: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    follow: follow,\r\n    unfollow: unfollow,\r\n    setCurrentPage,\r\n    setToggleFollowingProgress,\r\n    getUsersThunkCreator\r\n})(UsersContainer)","import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from './Header.module.css';\r\n\r\ntype HeaderType = {\r\n    login: string | null\r\n    isAuth: boolean\r\n    logout: () => void\r\n}\r\n\r\n\r\nconst Header = (props: HeaderType) => {\r\n    return (<header className={style.header}>\r\n            <div className={style.contentHeader}>\r\n                <span className={style.title}> Social Network</span>\r\n                <div className={style.menuLogin}>\r\n                    {props.isAuth\r\n                        ? <button onClick={props.logout}>{props.login} Log out </button>\r\n                        : <button> <NavLink to={'/login'}>Login</NavLink></button>}\r\n                </div>\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header;","import {authAPI, securityAPI} from \"../api/api\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppActionsType} from \"./redux-store\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nexport type UsersFollowType = setUserDataType\r\n    | ReturnType<typeof getCaptchaUrlSuccess>\r\nexport type setUserDataType = ReturnType<typeof setAuthUserData>\r\n\r\n\r\nlet initialStateUser: InitialStateUserType = {} as InitialStateUserType\r\nexport type InitialStateUserType = {\r\n    id: number | null,\r\n    email: string | null,\r\n    login: string | null,\r\n    isAuth: boolean,\r\n    captchaUrl: string\r\n}\r\n\r\n\r\nexport const authReducer = (state: InitialStateUserType = initialStateUser, action: UsersFollowType): InitialStateUserType => {\r\n    switch (action.type) {\r\n        case 'AUTH/SET_USER_DATA':\r\n        case 'AUTH/GET-CAPTCHA-URL-SUCCESS':\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id: number | null, email: string | null, login: string | null, isAuth: boolean) => {\r\n    return {\r\n        type: 'AUTH/SET_USER_DATA',\r\n        payload: {id, email, login, isAuth}\r\n    } as const\r\n}\r\nexport const getCaptchaUrlSuccess = (captchaUrl: string) => {\r\n    debugger\r\n    return {\r\n        type: 'AUTH/GET-CAPTCHA-URL-SUCCESS',\r\n        payload: {captchaUrl}\r\n    } as const\r\n}\r\nexport const getAuthUserData = () => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    const response = await authAPI.me()\r\n    if (response.data.resultCode === 0) {\r\n        let {id, email, login} = response.data.data\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\nexport const login = (email: string, password: string, rememberMe: boolean, captcha?: string) => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    const response = await authAPI.login(email, password, rememberMe,captcha)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getAuthUserData())\r\n    } else {\r\n        if (response.data.resultCode === 10) {\r\n            dispatch(getCaptchaURLTC())\r\n        }\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        let action: any = stopSubmit('login', {_error: message});     //any\r\n        dispatch(action)\r\n    }\r\n}\r\nexport const logout = () => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    const response = await authAPI.logout()\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\nexport const getCaptchaURLTC = () => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    const response = await securityAPI.getCaptchaUrl();\r\n    const captchaUrl = response.data.url\r\n    dispatch(getCaptchaUrlSuccess(captchaUrl))\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport {connect} from \"react-redux\";\r\nimport {getAuthUserData, logout} from \"../../redux/auth-reducer\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapDispatchToPropsType = {\r\n    // getAuthUserData: () => void\r\n    logout: () => void\r\n}\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    login: string | null\r\n}\r\nexport type UsersPropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nclass HeaderContainer extends React.Component<UsersPropsType> {\r\n    // componentDidMount() {\r\n    //    this.props.getAuthUserData();\r\n    // }\r\n\r\n    render() {\r\n\r\n        return <Header\r\n            {...this.props}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\nimport {maxLengthCreator, required} from '../../utils/validators/validators';\r\nimport {Input} from \"../common/FormControls/FormsControls\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport {login} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\nimport style from '../common/FormControls/FormsControls.module.css'\r\nimport s from './Login.module.css'\r\nimport btn from './../../assets/styles/ButtonStyle.module.css'\r\n\r\ntype FormDataType = {\r\n    email: string,\r\n    password: string,\r\n    rememberMe: boolean,\r\n    captcha:string\r\n}\r\nlet maxLength25 = maxLengthCreator(25)\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit, error}) => {\r\n    const captcha = useSelector<AppStateType, string>(state => state.auth.captchaUrl)\r\n    return (\r\n        <form onSubmit={handleSubmit} className={s.formBlock}>\r\n            <div>\r\n                <Field placeholder={'Email'} name={'email'} component={Input} validate={[required, maxLength25]}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder={'Password'} name={'password'} component={Input} validate={[required, maxLength25]}\r\n                       type={'password'}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input} name={'rememberMe'} type={'checkbox'}/>remember me\r\n            </div>\r\n            {captcha && <div>\r\n                <img src={captcha}/>\r\n                <Field placeholder={'Symbols from image'} name={'captcha'} component={Input} validate={[required, maxLength25]}/>\r\n            </div>}\r\n            {error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n            }\r\n            <div className={s.button}>\r\n                <button className={btn.btn}>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    captchaUrl: string\r\n}\r\nconst Login = (props: any) => { //any\r\n    const onSubmit = (formData: FormDataType) => {\r\n        const {email, password, rememberMe} = formData\r\n        props.login(email, password, rememberMe)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return <div className={s.content}>\r\n        <div>\r\n            <h1>Welcome</h1>\r\n            <h2>Login</h2>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>\r\n    </div>\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    }\r\n\r\n}\r\nexport default connect(mapStateToProps, {\r\n    login,\r\n})(Login)","import {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppActionsType} from \"./redux-store\";\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nexport type AllAppActionsType = setUserDataType\r\nexport type setUserDataType = ReturnType<typeof initializedSuccess>\r\n\r\n\r\nlet initialStateUser: InitialStateUserType = {} as InitialStateUserType\r\nexport type InitialStateUserType = {\r\n    initialized: boolean,\r\n}\r\n\r\n\r\nexport const appReducer = (state: InitialStateUserType = initialStateUser, action: AllAppActionsType): InitialStateUserType => {\r\n    switch (action.type) {\r\n        case 'APP/INITIALIZED_SUCCESS':\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n    return {\r\n        type: 'APP/INITIALIZED_SUCCESS',\r\n    } as const\r\n}\r\nexport const initializedApp = () => (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise])\r\n        .then(() => {\r\n                dispatch(initializedSuccess());\r\n            }\r\n        )\r\n}\r\n\r\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport {ActionsTypes, profileReducer} from \"./profile-reducer\";\r\nimport {dialogsReducer} from \"./dialogs-reducer\";\r\nimport {UsersActionsType, usersReducer} from \"./users-reducer\";\r\nimport {authReducer, UsersFollowType} from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {AllAppActionsType, appReducer} from \"./app-reducer\";\r\n\r\nlet reducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n})\r\nexport type AppStateType = ReturnType<typeof reducer>\r\n//@ts-ignore\r\n// const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n//@ts-ignore\r\n// const store = createStore(reducer, /* preloadedState, */ composeEnhancers(\r\n//     applyMiddleware(thunkMiddleware)\r\n// ));\r\nconst store = createStore(reducer, applyMiddleware(thunkMiddleware));\r\n\r\n\r\nexport type AppActionsType = UsersActionsType | ActionsTypes | UsersFollowType | AllAppActionsType //| asdActioi\r\n//@ts-ignore\r\nwindow.store = store\r\nexport default store","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from \"./Components/Navbar/Navbar\";\r\nimport {BrowserRouter, HashRouter, Redirect, Route, Switch} from 'react-router-dom';\r\nimport News from \"./Components/News/News\";\r\nimport Music from \"./Components/Music/Music\";\r\nimport Settings from \"./Components/Settings/Settings\";\r\nimport UsersContainer from \"./Components/Users/UsersContainer\";\r\nimport HeaderContainer from \"./Components/Header/HeaderContainer\";\r\nimport Login from \"./Components/Login/Login\";\r\nimport {connect, Provider} from \"react-redux\";\r\nimport {initializedApp} from \"./redux/app-reducer\";\r\nimport store, {AppStateType} from \"./redux/redux-store\";\r\nimport Preloader from \"./Components/common/Preloader/Preloader\";\r\n\r\n// import ProfileContainer from \"./Components/Profile/ProfileContainer\";\r\n// import DialogsContainer from \"./Components/Dialogs/DialogsContainer\";\r\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'));\r\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'));\r\n\r\ntype AppMapStateAndDispatchPropsType = mapStateToPropsType & MapDispatchToPropsType\r\ntype mapStateToPropsType = {\r\n    initialized: boolean,\r\n}\r\ntype MapDispatchToPropsType = {\r\n    initializedApp: () => void,\r\n}\r\nlet mapStateToProps = (state: AppStateType): mapStateToPropsType => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nclass App extends React.Component<AppMapStateAndDispatchPropsType> {\r\n    catchAllUnhandledErrors = (promiseRejectionEvent: any) => {\r\n        alert('Some error')\r\n    }\r\n    componentDidMount() {\r\n        this.props.initializedApp();\r\n        window.addEventListener(\"unhandledrejection\", function (promiseRejectionEvent) {\r\n            // handle error here, for example log\r\n        });\r\n    }\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"unhandledrejection\", function (promiseRejectionEvent) {\r\n            // handle error here, for example log\r\n        });\r\n    }\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>}\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Switch>\r\n                        <Route exact path='/' render={() => <Redirect to={'/login'}/>}/>\r\n                        <Route path='/dialogs' render={() => {\r\n                            return <React.Suspense fallback={<Preloader/>}>\r\n                                <DialogsContainer/>\r\n                            </React.Suspense>\r\n                        }}/>\r\n                        <Route path='/profile/:userId?' render={() => {\r\n                            return <React.Suspense fallback={<Preloader/>}>\r\n                                <ProfileContainer/>\r\n                            </React.Suspense>\r\n                        }}/>\r\n                        <Route path='/users' render={() => <UsersContainer/>}/>\r\n                        <Route path='/news' render={() => <News/>}/>\r\n                        <Route path='/music' render={() => <Music/>}/>\r\n                        <Route path='/settings' render={() => <Settings/>}/>\r\n                        <Route path='/login' render={() => <Login/>}/>\r\n                        <Route path='*' render={() => <div>404</div>}/>\r\n                    </Switch>\r\n                </div>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\nlet AppContainer = connect(mapStateToProps, {initializedApp})(App);\r\n\r\nexport const SamuraiJSApp = () => {\r\n    return <HashRouter  >\r\n        <Provider store={store}>\r\n            <AppContainer/>\r\n        </Provider>\r\n    </HashRouter>\r\n}\r\n\r\n","import React from 'react';\r\nimport './index.css';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport  { SamuraiJSApp } from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n       <SamuraiJSApp/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Users_content__17eHQ\",\"userPhoto\":\"Users_userPhoto__m7cjK\",\"users\":\"Users_users__3kfsA\",\"user\":\"Users_user__3qjvD\",\"local\":\"Users_local__2R8Jz\"};","export default __webpack_public_path__ + \"static/media/loading-.c37afade.gif\";","import React from 'react';\r\nimport loader from \"../../../assets/images/loading-.gif\";\r\n\r\nlet Preloader = () => {\r\n return  <div><img src={loader} style={{backgroundColor: 'white'}}/></div>\r\n}\r\nexport default Preloader","import React from 'react'\r\nimport styles from './FormsControls.module.css'\r\nimport {WrappedFieldProps} from 'redux-form';\r\n\r\nexport const FormControl: React.FC<WrappedFieldProps> = ({input, meta: {touched, error}, children, ...props}) => {\r\n    const hasError = touched && error\r\n    return (\r\n        <div className={styles.formControl + ' ' + (hasError ? styles.error : '')}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n//test\r\nexport const Textarea = (props: WrappedFieldProps) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\r\n}\r\nexport const Input = (props: WrappedFieldProps) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps}/></FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"ButtonStyle_btn__1owab\"};","export const required = (value: string) => {\r\n    if (value) return undefined;\r\n    return 'Field is required';\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if (value && value.length > maxLength) return  `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__TxBM5\",\"error\":\"FormsControls_error__SsFp8\",\"formSummaryError\":\"FormsControls_formSummaryError__3eXdc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__URfjV\",\"contentHeader\":\"Header_contentHeader__2VPaV\",\"title\":\"Header_title__1yQ6C\",\"menuLogin\":\"Header_menuLogin__2A00J\",\"loginBlock\":\"Header_loginBlock__2S0qA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Paginator_section__2IjEc\",\"pageNumber\":\"Paginator_pageNumber__1hfcS\",\"selectedPage\":\"Paginator_selectedPage__EZ8NQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Login_content__26bDV\",\"button\":\"Login_button__2H83p\",\"formBlock\":\"Login_formBlock__3hA6D\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {ThunkDispatch} from \"redux-thunk\";\r\nimport {AppActionsType, AppStateType} from \"./redux-store\";\r\nimport {ProfileDataFormType} from \"../Components/Profile/ProfileInfo/ProfileDataForm\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nexport type ActionsTypes =\r\n    | AddPostActionType\r\n    | setUserProfileType\r\n    | setStatusProfileType\r\n    | updatePhotoProfile\r\n    | ReturnType<typeof deletePost>\r\n\r\nexport type AddPostActionType = ReturnType<typeof addPostActionCreator>\r\nexport type setUserProfileType = ReturnType<typeof setUserProfile>\r\nexport type setStatusProfileType = ReturnType<typeof setStatusProfileActionCreator>\r\nexport type updatePhotoProfile = ReturnType<typeof updatePhoto>\r\nexport type PostType = {\r\n    id: number,\r\n    message: string,\r\n    likesCount: number,\r\n    avatar: string\r\n}\r\nexport type ProfileContactUserType = {\r\n    facebook: string,\r\n    website: null,\r\n    vk: string,\r\n    twitter: string,\r\n    instagram: string,\r\n    youtube: null,\r\n    github: string,\r\n    mainLink: null\r\n\r\n}\r\nexport type ProfileUserType = {\r\n    aboutMe: string,\r\n    contacts: ProfileContactUserType,\r\n    lookingForAJob: true,\r\n    lookingForAJobDescription: string,\r\n    fullName: string,\r\n    userId: number,\r\n    photos: {\r\n        small: string | null\r\n        large: string | null\r\n    }\r\n\r\n}\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: 1,\r\n            message: 'Hi,how are you?',\r\n            likesCount: 12,\r\n            avatar: \"https://i.pinimg.com/originals/9c/77/46/9c7746225873e02d83b9315501b8dd2f.jpg\"\r\n        },\r\n        {\r\n            id: 2,\r\n            message: \"It's my first post\",\r\n            likesCount: 8,\r\n            avatar: \"https://images.boosty.to/user/822986/avatar?change_time=1593874069&croped=1&mh=150&mw=150\"\r\n        },\r\n        {\r\n            id: 3,\r\n            message: \"It's my first post\",\r\n            likesCount: 8,\r\n            avatar: \"https://images.boosty.to/user/822986/avatar?change_time=1593874069&croped=1&mh=150&mw=150\"\r\n        },\r\n        {\r\n            id: 4,\r\n            message: \"It's my first post\",\r\n            likesCount: 8,\r\n            avatar: \"https://images.boosty.to/user/822986/avatar?change_time=1593874069&croped=1&mh=150&mw=150\"\r\n        },\r\n    ] as Array<PostType>,\r\n    newPostText: '',\r\n    profile: {} as ProfileUserType,\r\n    status: ''\r\n}\r\nexport type InitialStateType = typeof initialState\r\n\r\n\r\nexport const profileReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case 'PROFILE/ADD-POST':\r\n            let newPost: PostType = {\r\n                id: new Date().getTime(),\r\n                message: action.newPost,\r\n                likesCount: 1,\r\n                avatar: \"https://images.boosty.to/user/822986/avatar?change_time=1593874069&croped=1&mh=150&mw=150\"\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        case 'PROFILE/SET-USER-PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case 'PROFILE/SET-STATUS-PROFILE':\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case 'PROFILE/DELETE-POST':\r\n            return {\r\n                ...state, posts: state.posts.filter(p => p.id != action.postId)\r\n            }\r\n        case 'PROFILE/UPDATE-PHOTO':\r\n            return {\r\n                ...state, profile: {...state.profile, photos: action.photo}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n\r\n}\r\nexport const addPostActionCreator = (newPost: string) => {\r\n    return {\r\n        type: 'PROFILE/ADD-POST',\r\n        newPost\r\n    } as const\r\n}\r\nexport const setStatusProfileActionCreator = (status: string) => {\r\n    return {\r\n        type: 'PROFILE/SET-STATUS-PROFILE',\r\n        status,\r\n    } as const\r\n}\r\nexport const setUserProfile = (profile: ProfileUserType) => {\r\n    return {\r\n        type: 'PROFILE/SET-USER-PROFILE',\r\n        profile: profile\r\n    } as const\r\n}\r\nexport const deletePost = (postId: number) => {\r\n    return {\r\n        type: 'PROFILE/DELETE-POST',\r\n        postId\r\n    } as const\r\n}\r\nexport const updatePhoto = (photo: any) => {\r\n    return {\r\n        type: 'PROFILE/UPDATE-PHOTO',\r\n        photo\r\n    } as const\r\n}\r\nexport const getUserProfile = (userId: string) => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n    dispatch(setUserProfile(response.data));\r\n}\r\nexport const getStatusProfile = (userId: string) => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n    dispatch(setStatusProfileActionCreator(response.data));\r\n}\r\nexport const updateStatusProfile = (status: string) => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatusProfileActionCreator(response.data));\r\n    }\r\n}\r\nexport const updatePhotoProfile = (file: string) => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>) => {\r\n    let response = await profileAPI.updatePhoto(file)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(updatePhoto(response.data.data.photos));\r\n    }\r\n}\r\nexport const saveProfileTC = (profile: ProfileDataFormType) => async (dispatch: ThunkDispatch<{}, {}, AppActionsType>,getState:any) => {\r\n   const id = getState().auth.id\r\n    let response = await profileAPI.saveProfile(profile)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(id))\r\n    } else {\r\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\r\n        let action: any = stopSubmit('edit-profile', {_error: message});     //any\r\n        dispatch(action)\r\n        // return Promise.reject(response.data.messages[0])\r\n    }\r\n}"],"sourceRoot":""}